{% load static %}
<link rel="stylesheet" href="{% static 'shop/css/normalize.css' %}"/>
<link rel="stylesheet" href="{% static 'shop/css/header.css' %}"/>
<link rel="stylesheet" href="{% static 'shop/css/detail.css' %}"/>
<link rel="icon" href="{% static 'shop/img/img.png' %}">
{% include 'shop/inc/_header.html' %}
{#{% block title %}#}
{#    {{ product.category }}: {{ product.title }}#}
{#{% endblock %}#}

{% block content %}
    {#    <br>#}
    {#    <div class="card shadow-custom border-0 col-lg-8 mx-auto">#}
    {#        <div class="row justify-content-center">#}
    {#            <div class="col-lg-6">#}
    {#                <img src="{{ product.image.url }}" alt="" class="img-fluid rounded-0">#}
    {#            </div>#}
    {#            {% for image in gallery_images %}#}
    {#                <img src="{{ image.image.url }}" alt="{{ product.name }}">#}
    {#            {% endfor %}#}
    {#            <div class="col-lg-6">#}
    {#                <div class="top">#}
    {#                    <h2 class="mt-4 font-weight-bold text-grey">{{ product.name }}</h2>#}
    {#                    <div>#}
    {#                        <span class="font-weight-bold text-grey">Категория:</span>#}
    {#                        <a href="{{ product.category.get_absolute_url }}"> {{ product.category }}</a>#}
    {#                    </div>#}
    {#                    <div>#}
    {#                        <span class="font-weight-bold text-grey">Цена: <span class="price">₽ {{ product.price }}</span></span>#}
    {#                    </div>#}
    {#                </div>#}
    {#                <div class="mt-3">#}
    {#                    {{ product.description }}#}
    {#                </div>#}
    {#                {% if product.available %}#}
    {#                    <div class="alert alert-success my-3 text-center">В наличии</div>#}
    {#                {% else %}#}
    {#                    <div class="alert alert-danger my-3 text-center">Временно недоступен</div>#}
    {#                {% endif %}#}
    {#                <hr>#}
    {#                <div class="review">#}
    {#                    <span class="font-weight-bold text-grey">Средний рейтинг: {{ product.get_average_review_score }}/5.0</span>#}
    {#                    <div class="mb-3 font-weight-bold">#}
    {#                        <a href="" class="text-warning" data-toggle="modal" data-target="#myModal">Оставить отзыв</a>#}
    {#                    </div>#}
    {#                </div>#}
    {#                <div class="mb-4">#}
    {#                    <form action="{% url 'cart:cart_add' product.id %}" method="post">#}
    {#                        {% csrf_token %}#}
    {#                        <span class="input-group add-to-cart shadow-custom">#}
    {#                            <div class="input-group-prepend">#}
    {#                                <span class="input-group-text font-weight-bold px-3 price">₽{{ product.price }}</span>#}
    {#                            </div>#}
    {#                            {{ cart_product_form.quantity }}#}
    {#                            <div class="input-group-append">#}
    {#                                <button class="btn btn-primary px-4 reduce_padding" type="submit" data-toggle="tooltip"#}
    {#                                        data-placement="top" title="Add to cart">#}
    {#                                    <i class="fas fa-shopping-cart"></i>#}
    {#                                </button>#}
    {#                            </div>#}
    {#                        </span>#}
    {#                    </form>#}
    {#                </div>#}
    {#            </div>#}
    {#        </div>#}
    {#    </div>#}
    {#    <hr class="col-7 mx-auto">#}
    {#    <div class="card shadow-custom border-0 col-lg-8 mx-auto mb-3">#}
    {#        <h3 class="py-2 text-grey">Отзывы:</h3>#}
    {#        {% for review in product.reviews.all %}#}
    {#            <span class="font-weight-bold py-2 text-grey">{{ review.author }} - {{ review.rating }}/5 - {{ review.created|date }}</span>#}
    {#            <span class="text-justify pb-2">{{ review.text }}</span>#}
    {#            <hr>#}
    {#        {% empty %}#}
    {#            <span class="pb-2">Пока нет отзывов</span>#}
    {#        {% endfor %}#}
    {#    </div>#}
    {##}
    {#    <!-- REWIEW MODAL WINDOW -->#}
    {#    <div class="modal" id="myModal">#}
    {#        <div class="modal-dialog">#}
    {#            <div class="modal-content">#}
    {#                <div class="modal-header">#}
    {#                    <h5 class="modal-title">Оставьте свой отзыв</h5>#}
    {#                    <button class="close" data-dismiss="modal">&times;</button>#}
    {#                </div>#}
    {#                <form method="post">#}
    {#                    {% csrf_token %}#}
    {#                    <div class="modal-body">#}
    {#                        <div class="bg-grey">#}
    {#                            <div class="text-center pt-2">#}
    {#                                Рейтинг:#}
    {#                                <div id="full-stars" class="d-inline text-center">#}
    {#                                    <div class="rating-group">#}
    {#                                        <label class="rating__label" for="id_rating_0">#}
    {#                                            <i class="rating__icon rating__icon--star fa fa-star">1</i>#}
    {#                                        </label>#}
    {#                                        <input class="rating__input" name="rating" id="id_rating_0" value="1"#}
    {#                                               type="radio" required>#}
    {#                                        <label class="rating__label" for="id_rating_1">#}
    {#                                            <i class="rating__icon rating__icon--star fa fa-star">2</i>#}
    {#                                        </label>#}
    {#                                        <input class="rating__input" name="rating" id="id_rating_1" value="2"#}
    {#                                               type="radio" required>#}
    {#                                        <label class="rating__label" for="id_rating_2">#}
    {#                                            <i class="rating__icon rating__icon--star fa fa-star">3</i>#}
    {#                                        </label>#}
    {#                                        <input class="rating__input" name="rating" id="id_rating_2" value="3"#}
    {#                                               type="radio" required>#}
    {#                                        <label class="rating__label" for="id_rating_3">#}
    {#                                            <i class="rating__icon rating__icon--star fa fa-star">4</i>#}
    {#                                        </label>#}
    {#                                        <input class="rating__input" name="rating" id="id_rating_3" value="4"#}
    {#                                               type="radio" required>#}
    {#                                        <label class="rating__label" for="id_rating_4">#}
    {#                                            <i class="rating__icon rating__icon--star fa fa-star">5</i>#}
    {#                                        </label>#}
    {#                                        <input class="rating__input" name="rating" checked id="id_rating_4" value="5"#}
    {#                                               type="radio" required>#}
    {#                                    </div>#}
    {#                                </div>#}
    {#                            </div>#}
    {#                            <hr class="m-0">#}
    {#                            <div class="input-field text-center p-2">#}
    {#                                {{ review_form.text }}#}
    {#                            </div>#}
    {#                        </div>#}
    {#                    </div>#}
    {#                    <div class="modal-footer">#}
    {#                        <button class="btn btn-primary" type="submit">Подтвердить</button>#}
    {#                    </div>#}
    {#                </form>#}
    {#            </div>#}
    {#        </div>#}
    {#    </div>#}
    {% if category.name == 'Наушники' %}
        <div class="header__content">
            <h1 class="title">
            <span class="title--air">Air</span
            ><span class="title--pod">Pod</span><span class="title--s">S</span>
                <span class="title--max">MAX</span>
                <!-- <span class="title--ax"></span> -->
            </h1>
            <div class="header__content-imades">
                {% if product.slug == 'airpods-max-green' %}
                    <img
                            class="content-item color--green content-item__active"
                            src="{{ product.image.url }}"
                            alt=""
                    />
                {% elif product.slug == 'airpods-max-pink' %}
                    <img
                            class="content-item color--red content-item__active"
                            src="{{ product.image.url }}"
                            alt=""
                    />
                {% elif product.slug == 'airpods-max-space-gray' %}
                    <img
                            class="content-item color--black content-item__active"
                            src="{{ product.image.url }}"
                            alt=""
                    />
                {% elif product.slug == 'airpods-max-sky-blue' %}
                    <img
                            class="content-item color--blue content-item__active"
                            src="{{ product.image.url }}"
                            alt=""
                    />
                {% elif product.slug == 'airpods-max-white' %}
                    <img
                            class="content-item color--white content-item__active"
                            src="{{ product.image.url }}"
                            alt=""
                    />
                {% endif %}
            </div>
        </div>
        <section class="choose-color">
            {% if product.available %}
            {% else %}
                <div style="color: red; font-weight: bolder; font-size: x-large">Временно недоступен</div>
            {% endif %}
            <div class="container">
                <h3 class="choose-color__title">Choose your colour</h3>
                <p class="choose-color__text">
                    The perfect balance between the purityof hi‑fi and the magic of
                    AirPods. The ultimate personal audio experience.
                </p>
                <div class="choose-color__list">
                    {% for other_product in other_products %}
                        <a class="choose-color-btn" data-button="color--black"
                           href="{{ other_product.get_absolute_url }}">
                            <img src="{{ other_product.image.url }}" alt="" width="125px"/>
                        </a>
                    {% endfor %}
                </div>
            </div>
        </section>
        <main class="main">
            <section class="composition">
                <div class="container">
                    <h2 class="composition__title main__title">
                        An extremely original composition.
                    </h2>
                    <p class="composition__text">
                        Introducing the reinvention of over-the-ear headphones. From the
                        cushion to the headband, the AirPods Max are designed with acoustic
                        insulation in mind, adapted to many head shapes, so you can immerse
                        yourself in the purity of sound.
                    </p>
                    <div class="composition__inner">
                        <div class="composition__inner-text">
                            <p>
                                The headband is made of breathable mesh, distributing the weight
                                to reduce pressure on the head.
                            </p>
                            <p>
                                The stainless steel structure is wrapped in a soft-touch
                                material to provide a remarkable harmony between resistance,
                                flexibility and comfort.
                            </p>
                            <p>
                                The telescoping arms expand and stay in any position you want,
                                allowing you to maintain fit and isolation.
                            </p>
                        </div>
                        {% if gallery_images %}
                            {% if product.slug == 'airpods-max-green' %}
                                <img
                                        class="content-item color--green content-item__active"
                                        src="{{ gallery_images.first.image.url }}"
                                        alt=""
                                        width="250px"
                                />
                            {% elif product.slug == 'airpods-max-pink' %}
                                <img
                                        class="content-item color--red content-item__active"
                                        src="{{ gallery_images.first.image.url }}"
                                        alt=""
                                />
                            {% elif product.slug == 'airpods-max-space-gray' %}
                                <img
                                        class="content-item color--black content-item__active"
                                        src="{{ gallery_images.first.image.url }}"
                                        alt=""
                                />
                            {% elif product.slug == 'airpods-max-sky-blue' %}
                                <img
                                        class="content-item color--blue content-item__active"
                                        src="{{ gallery_images.first.image.url }}"
                                        alt=""
                                />
                            {% elif product.slug == 'airpods-max-white' %}
                                <img
                                        class="content-item color--white content-item__active"
                                        src="{{ gallery_images.first.image.url }}"
                                        alt=""
                                />
                            {% endif %}
                        {% endif %}
                    </div>
                </div>
            </section>
            <section class="case">
                <div class="container">
                    <h2 class="case__title main__title">
                        It even preserves the battery.
                    </h2>
                    <p class="case__text">
                        When stored in the sleek and lightweight Smart Case , AirPods Max
                        enter a low-power state to save energy.
                    </p>
                    {% if gallery_images %}
                        {% if product.slug == 'airpods-max-green' %}
                            <img
                                    class="content-item color--green content-item__active"
                                    src="{{ gallery_images.last.image.url }}"
                                    alt=""
                                    width="250px"
                            />
                        {% elif product.slug == 'airpods-max-pink' %}
                            <img
                                    class="content-item color--red content-item__active"
                                    src="{{ gallery_images.last.image.url }}"
                                    alt=""
                            />
                        {% elif product.slug == 'airpods-max-space-gray' %}
                            <img
                                    class="content-item color--black content-item__active"
                                    src="{{ gallery_images.last.image.url }}"
                                    alt=""
                            />
                        {% elif product.slug == 'airpods-max-sky-blue' %}
                            <img
                                    class="content-item color--blue content-item__active"
                                    src="{{ gallery_images.last.image.url }}"
                                    alt=""
                            />
                        {% elif product.slug == 'airpods-max-white' %}
                            <img
                                    class="content-item color--white content-item__active"
                                    src="{{ gallery_images.last.image.url }}"
                                    alt=""
                            />
                        {% endif %}
                    {% endif %}
                    <h2 class="energy__title main__title">
                        Stayin' alive, stayin' alive.
                    </h2>
                    <p class="energy__num">20</p>
                    <p class="energy__text">
                        hours of music, movies and calls with Active Noise Cancellation and
                        Custom Spatial Audio turned on. 5 And just 5 minutes of charging via
                        the Lightning connector gives you an hour and a half of sound. 6
                    </p>
                </div>
            </section>
            <section class="audio" style="background-image: url({% static 'shop/img/Group_2.png' %})">
                <div class="container">
                    <div class="audio__inner">
                        <div class="audio__box">
                            <p class="audio__text">
                                Custom Spatial Audio with dynamic head tracking provides a
                                surround sound experience worthy of a movie theater.
                            </p>
                            <p class="audio__text">
                                Through built-in gyroscopes and accelerometers, AirPods Max and
                                your iPhone, iPad, Mac or Apple TV detect the slightest head
                                movements and keep the sound steady on your device.
                            </p>
                            <p class="audio__text">
                                And with Apple Music, custom Spatial Audio with dynamic head
                                tracking creates a unique three-dimensional listening
                                experience.
                            </p>
                            <button class="btn">buy</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    {% elif category.name == 'Айфоны' %}

    {% endif %}
    {% include 'shop/inc/_footer.html' %}
{% endblock %}